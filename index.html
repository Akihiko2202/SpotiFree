<!DOCTYPE html>
<html lang="vi">
<head>
<meta charset="UTF-8">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>SpotiFree Ultra</title>
  <link rel="icon" type="image/png" href="icon.png">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.0/css/all.min.css">

<style>
*{margin:0;padding:0;box-sizing:border-box;font-family:Arial,sans-serif}
body{background:#000;color:white;overflow:hidden;transition:.5s}
:root{--theme:#1db954}

/* BACKGROUND */
#bg-video{
position:fixed;
width:100%;
height:100%;
object-fit:cover;
z-index:-3;
transition:opacity 1s ease;
}
.overlay{
position:fixed;
inset:0;
background:rgba(0,0,0,.6);
backdrop-filter:blur(20px);
z-index:-2;
}

/* MENU BUTTON */
.menu-btn{
position:fixed;
top:20px;
left:280px;
background:var(--theme);
border:none;
width:45px;
height:45px;
font-size:20px;
border-radius:12px;
cursor:pointer;
z-index:9999;
display:flex;
justify-content:center;
align-items:center;
box-shadow:0 5px 20px rgba(0,0,0,.4);
transition:.3s;
}
.menu-btn:hover{transform:scale(1.1)}

/* PLAYLIST */
.playlist{
position:fixed;
left:0;
top:0;
width:260px;
height:100vh;
background:#111;
padding:20px;
overflow-y:auto;
transition:.3s;
}
.playlist.hide{transform:translateX(-100%)}

.song-item{
padding:8px;
margin-bottom:6px;
border-radius:6px;
cursor:pointer;
transition:.2s;
}
.song-item:hover{background:var(--theme)}
.song-item.active{
background:var(--theme);
color:black;
font-weight:bold;
}

/* SCROLLBAR */
.playlist::-webkit-scrollbar{width:8px}
.playlist::-webkit-scrollbar-track{background:#111}
.playlist::-webkit-scrollbar-thumb{
background:#3e3e3e;
border-radius:10px;
transition:.3s;
}
.playlist::-webkit-scrollbar-thumb:hover{
background:var(--theme);
}

/* PLAYER */
.container{
display:flex;
justify-content:center;
align-items:center;
height:100vh;
margin-left:260px;
transition:.3s ease;
}
.player-box{
background:#181818;
padding:30px;
border-radius:20px;
width:430px;
text-align:center;
box-shadow:0 10px 40px rgba(0,0,0,.6);
}

.cover{
width:220px;
height:220px;
border-radius:50%;
margin-bottom:20px;
animation:spin 15s linear infinite;
animation-play-state:paused;
}
@keyframes spin{
from{transform:rotate(0)}
to{transform:rotate(360deg)}
}

/* RANGE */
input[type="range"]{
-webkit-appearance:none;
width:100%;
height:5px;
border-radius:5px;
cursor:pointer;
background:linear-gradient(to right,var(--theme) 0%,#535353 0%);
}
input[type="range"]::-webkit-slider-thumb{
-webkit-appearance:none;
width:12px;
height:12px;
border-radius:50%;
background:var(--theme);
margin-top:-4px;
}

/* CONTROLS */
.controls{
display:flex;
justify-content:center;
gap:18px;
margin-top:15px;
}
.controls button{
background:#181818;
border:none;
width:50px;
height:50px;
border-radius:50%;
color:white;
font-size:18px;
cursor:pointer;
transition:.2s;
}
.controls button:hover{
background:var(--theme);
transform:scale(1.1);
}
.controls button.active{
background:var(--theme);
box-shadow:0 0 10px var(--theme);
}
.controls button.active i{
color:black;
}
</style>
</head>

<body>

<video autoplay muted loop playsinline id="bg-video"></video>
<div class="overlay"></div>

<button id="toggleSidebar" class="menu-btn">☰</button>

<div class="playlist" id="sidebar">
<h2>Danh Sách Nhạc</h2>
<div id="playlist"></div>
</div>

<div class="container">
<div class="player-box">

<img id="cover" class="cover">
<h3 id="title"></h3>
<p id="artist" style="color:#aaa"></p>

<input type="range" id="progress" value="0">

<div class="controls">
<button id="shuffleBtn"><i class="fa-solid fa-shuffle"></i></button>
<button id="prevBtn"><i class="fa-solid fa-backward-step"></i></button>
<button id="playBtn"><i class="fa-solid fa-play"></i></button>
<button id="nextBtn"><i class="fa-solid fa-forward-step"></i></button>
<button id="loopBtn"><i class="fa-solid fa-repeat"></i></button>
</div>

<input type="range" id="volume" min="0" max="1" step="0.01">

<audio id="audio"></audio>

</div>
</div>

<script>
const songs=[
{ name:"『 水鏡に雫 』", artist:"Vivia", file:"music1.mp3", cover:"cover1.jpg", video:"video1.mp4"},
{ name:"「Tabun (Có lẽ)」", artist:"YOASOBI", file:"music2.mp3", cover:"cover2.jpg", video:"video2.mp4"},
{ name:"水平線のような僕らへ", artist:"Vivid Lila", file:"music3.mp3", cover:"cover3.jpg", video:"video3.mp4"},
{ name:"大塚 愛 / さくらんぼ", artist:"avex", file:"music4.mp3", cover:"cover4.jpg", video:"video4.mp4"},
{ name:"Ngã Tư Không Đèn", artist:"Nhạc Của Trang", file:"music5.mp3", cover:"cover5.jpg", video:"video5.mp4", type:"buon"},
{ name:"Ngồi Nhìn Em Khóc", artist:"Sáo", file:"music6.mp3", cover:"cover6.jpg", video:"video6.mp4", type:"buon"},
{ name:"Em Không Khóc", artist:"buitruonglinh ft vuphungtien", file:"music7.mp3", cover:"cover7.jpg", video:"video7.mp4", type:"buon"},
{ name:"10 Ngàn Năm", artist:"Prod. Duckie", file:"music8.mp3", cover:"cover8.jpg", video:"video8.mp4", type:"buon"},
{ name:"Chết Trong Em", artist:"Thịnh Suy", file:"music9.mp3", cover:"cover9.jpg", video:"video9.mp4", type:"buon"},
{ name:"「僕の心のヤバイやつ」", artist:"AniOp", file:"music10.mp3", cover:"cover10.jpg", video:"video10.mp4"},
{ name:"斜陽", artist:"ヨルシカ", file:"music11.mp3", cover:"cover11.jpg", video:"video11.mp4"},
{ name:"「この素晴らしい世界に祝福を! 3」", artist:"Aqua", file:"music12.mp3", cover:"cover12.jpg", video:"video12.mp4"},
{ name:"『打上花火』", artist:"DAOKO", file:"music13.mp3", cover:"cover13.jpg", video:"video13.mp4"},
{ name:"『機動戦士ガンダム 水星の魔女』", artist:"YOASOBI", file:"music14.mp3", cover:"cover14.jpg", video:"video14.mp4"},
{ name:"『君に届け 3RD SEASON』", artist:"【imase】", file:"music15.mp3", cover:"cover15.jpg", video:"video15.mp4"},
{ name:"メガネを外して", artist:"乃紫 (noa)", file:"music16.mp3", cover:"cover16.jpg", video:"video16.mp4"},
{ name:"Tomodachi no Imouto ga Ore ni dake Uzai - Ending", artist:"Kohana Lam", file:"music17.mp3", cover:"cover17.jpg", video:"video17.mp4"},
{ name:"Song 18", artist:"Artist 18", file:"music18.mp3", cover:"cover18.jpg", video:"video18.mp4"},
{ name:"Song 19", artist:"Artist 19", file:"music19.mp3", cover:"cover19.jpg", video:"video19.mp4"},
{ name:"Song 20", artist:"Artist 20", file:"music20.mp3", cover:"cover20.jpg", video:"video20.mp4"},
{ name:"Song 21", artist:"Artist 21", file:"music21.mp3", cover:"cover21.jpg", video:"video21.mp4"},
{ name:"Song 22", artist:"Artist 22", file:"music22.mp3", cover:"cover22.jpg", video:"video22.mp4"},
{ name:"Song 23", artist:"Artist 23", file:"music23.mp3", cover:"cover23.jpg", video:"video23.mp4"},
{ name:"Song 24", artist:"Artist 24", file:"music24.mp3", cover:"cover24.jpg", video:"video24.mp4"},
{ name:"Song 25", artist:"Artist 25", file:"music25.mp3", cover:"cover25.jpg", video:"video25.mp4"},
{ name:"Song 26", artist:"Artist 26", file:"music26.mp3", cover:"cover26.jpg", video:"video26.mp4"},
{ name:"Song 27", artist:"Artist 27", file:"music27.mp3", cover:"cover27.jpg", video:"video27.mp4"},
{ name:"Song 28", artist:"Artist 28", file:"music28.mp3", cover:"cover28.jpg", video:"video28.mp4"},
{ name:"Song 29", artist:"Artist 29", file:"music29.mp3", cover:"cover29.jpg", video:"video29.mp4"},
{ name:"Song 30", artist:"Artist 30", file:"music30.mp3", cover:"cover30.jpg", video:"video30.mp4"},
{ name:"Song 31", artist:"Artist 31", file:"music31.mp3", cover:"cover31.jpg", video:"video31.mp4"},
{ name:"Song 32", artist:"Artist 32", file:"music32.mp3", cover:"cover32.jpg", video:"video32.mp4"},
{ name:"Song 33", artist:"Artist 33", file:"music33.mp3", cover:"cover33.jpg", video:"video33.mp4"},
{ name:"Song 34", artist:"Artist 34", file:"music34.mp3", cover:"cover34.jpg", video:"video34.mp4"},
{ name:"Song 35", artist:"Artist 35", file:"music35.mp3", cover:"cover35.jpg", video:"video35.mp4"},
{ name:"Song 36", artist:"Artist 36", file:"music36.mp3", cover:"cover36.jpg", video:"video36.mp4"},
{ name:"Song 37", artist:"Artist 37", file:"music37.mp3", cover:"cover37.jpg", video:"video37.mp4"},
{ name:"Song 38", artist:"Artist 38", file:"music38.mp3", cover:"cover38.jpg", video:"video38.mp4"},
{ name:"Song 39", artist:"Artist 39", file:"music39.mp3", cover:"cover39.jpg", video:"video39.mp4"},
{ name:"Song 40", artist:"Artist 40", file:"music40.mp3", cover:"cover40.jpg", video:"video40.mp4"},
{ name:"Song 41", artist:"Artist 41", file:"music41.mp3", cover:"cover41.jpg", video:"video41.mp4"},
{ name:"Song 42", artist:"Artist 42", file:"music42.mp3", cover:"cover42.jpg", video:"video42.mp4"},
{ name:"Song 43", artist:"Artist 43", file:"music43.mp3", cover:"cover43.jpg", video:"video43.mp4"},
{ name:"Song 44", artist:"Artist 44", file:"music44.mp3", cover:"cover44.jpg", video:"video44.mp4"},
{ name:"Song 45", artist:"Artist 45", file:"music45.mp3", cover:"cover45.jpg", video:"video45.mp4"},
{ name:"Song 46", artist:"Artist 46", file:"music46.mp3", cover:"cover46.jpg", video:"video46.mp4"},
{ name:"Song 47", artist:"Artist 47", file:"music47.mp3", cover:"cover47.jpg", video:"video47.mp4"},
{ name:"Song 48", artist:"Artist 48", file:"music48.mp3", cover:"cover48.jpg", video:"video48.mp4"},
{ name:"Song 49", artist:"Artist 49", file:"music49.mp3", cover:"cover49.jpg", video:"video49.mp4"},
{ name:"Song 50", artist:"Artist 50", file:"music50.mp3", cover:"cover50.jpg", video:"video50.mp4"},
{ name:"Song 51", artist:"Artist 51", file:"music51.mp3", cover:"cover51.jpg", video:"video51.mp4"},
{ name:"Song 52", artist:"Artist 52", file:"music52.mp3", cover:"cover52.jpg", video:"video52.mp4"},
{ name:"Song 53", artist:"Artist 53", file:"music53.mp3", cover:"cover53.jpg", video:"video53.mp4"}

];

const audio=document.getElementById("audio");
const title=document.getElementById("title");
const artist=document.getElementById("artist");
const cover=document.getElementById("cover");
const bgVideo=document.getElementById("bg-video");
const playlist=document.getElementById("playlist");
const progress=document.getElementById("progress");
const volume=document.getElementById("volume");
const playBtn=document.getElementById("playBtn");
const nextBtn=document.getElementById("nextBtn");
const prevBtn=document.getElementById("prevBtn");
const loopBtn=document.getElementById("loopBtn");
const shuffleBtn=document.getElementById("shuffleBtn");
const toggleBtn=document.getElementById("toggleSidebar");
const sidebar=document.getElementById("sidebar");
const container=document.querySelector(".container");

let currentSong=0;
let isShuffle=false;

/* BUILD PLAYLIST */
songs.forEach((song,index)=>{
const div=document.createElement("div");
div.classList.add("song-item");
div.innerText=song.name;
div.onclick=()=>{
loadSong(index);
audio.play();
};
playlist.appendChild(div);
});

function randomTheme(){
const colors=["#1db954","#ff4d6d","#4cc9f0","#fca311","#9d4edd"];
const random=colors[Math.floor(Math.random()*colors.length)];
document.documentElement.style.setProperty("--theme",random);
updateRanges();
}

function loadSong(index){
currentSong=index;
audio.src=songs[index].file;
title.innerText=songs[index].name;
artist.innerText=songs[index].artist;
cover.src=songs[index].cover;
bgVideo.src=songs[index].video;

document.querySelectorAll(".song-item").forEach(el=>el.classList.remove("active"));
document.querySelectorAll(".song-item")[index].classList.add("active");

randomTheme();
}

function playPause(){
audio.paused?audio.play():audio.pause();
}

function nextSong(){
if(isShuffle){
let randomIndex;
do{
randomIndex=Math.floor(Math.random()*songs.length);
}while(randomIndex===currentSong);
currentSong=randomIndex;
}else{
currentSong=(currentSong+1)%songs.length;
}
loadSong(currentSong);
audio.play();
}

function prevSong(){
currentSong=(currentSong-1+songs.length)%songs.length;
loadSong(currentSong);
audio.play();
}

playBtn.onclick=playPause;
nextBtn.onclick=nextSong;
prevBtn.onclick=prevSong;

loopBtn.onclick=()=>{
audio.loop=!audio.loop;
loopBtn.classList.toggle("active");
};

shuffleBtn.onclick=()=>{
isShuffle=!isShuffle;
shuffleBtn.classList.toggle("active");
};

audio.addEventListener("play",()=>{
cover.style.animationPlayState="running";
playBtn.innerHTML='<i class="fa-solid fa-pause"></i>';
});

audio.addEventListener("pause",()=>{
cover.style.animationPlayState="paused";
playBtn.innerHTML='<i class="fa-solid fa-play"></i>';
});

audio.addEventListener("timeupdate",()=>{
progress.value=(audio.currentTime/audio.duration)*100||0;
updateRanges();
});

progress.oninput=()=>{
audio.currentTime=(progress.value/100)*audio.duration;
};

volume.value=0.7;
audio.volume=0.7;

volume.oninput=()=>{
audio.volume=volume.value;
updateRanges();
};

function updateRanges(){
progress.style.background=
`linear-gradient(to right,var(--theme) ${progress.value}%,#535353 ${progress.value}%)`;
volume.style.background=
`linear-gradient(to right,var(--theme) ${volume.value*100}%,#535353 ${volume.value*100}%)`;
}

toggleBtn.onclick=()=>{
sidebar.classList.toggle("hide");
if(sidebar.classList.contains("hide")){
container.style.marginLeft="0";
toggleBtn.style.left="20px";
}else{
container.style.marginLeft="260px";
toggleBtn.style.left="280px";
}
};

loadSong(0);
audio.pause();
</script>

</body>
</html>


